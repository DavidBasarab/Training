@page "/counter"
@using FatCat.Fakes
@rendermode InteractiveServer

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @displayCount</p>

@if (clickCount >= 5)
{
    <p>You clicked the button more than 5 times!!!! Total @(clickCount)</p>
}

<br/>

<PlayingComponent Items="items"></PlayingComponent>

<br/>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>
<button class="btn btn-secondary" @onclick="CreateItems">Create List</button>

@code {

    private List<PlayingWithData> items = []; // Faker.Create<List<PlayingWithData>>(4);

    [Parameter]
    public int IncrementAmount { get; set; }

    private int displayCount;
    private int clickCount;
    
    private void CreateItems()
    {
        var numberOfItems = Faker.RandomInt(3, 25);
        
        items = Faker.Create<List<PlayingWithData>>(numberOfItems);
    }

    private void IncrementCount()
    {
        clickCount++;
        displayCount += IncrementAmount;
    }

}
